"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[34104],{588664:(e,t,n)=>{n.d(t,{Z:()=>r});function r(e,t,n=28){let r;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;r=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let i=new Date,o=r?new Date(r):i;return o.setDate(o.getDate()+n),new Date().getTime()<o.getTime()}},820428:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(107366),i=n(217058),o=n(546689);async function a(e){let t=(0,o.i$)(),n=(0,o.nR)(),a=(0,o.di)(),s=t?t.map(({pageType:e,...t})=>t):null,l={is_register:e??!1};if(s&&(l.unauth_visited_pages=JSON.stringify(s)),n&&(l.invite_redemption=JSON.stringify(n)),a&&(l.paid_landing=JSON.stringify(a)),s||n||a){let e=await (0,r.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:l});(0,i.My)(`landing_signals.flush.${e.status}`),(0,o.z$)()}}},974371:(e,t,n)=>{n.d(t,{M:()=>h,Z:()=>y});var r=n(667294),i=n(86785),o=n(342513),a=n(897650),s=n(11453),l=n(992083),u=n(340523),c=n(5859),_=n(217058),d=n(554786),g=n(149722),p=n(785893);let{Provider:f,useMaybeHook:h}=(0,o.Z)("GoogleSignInApi"),m=()=>{let e=(0,d.HG)(),{checkExperiment:t}=(0,u.F)();return t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled},b=()=>{let{userAgent:e}=(0,c.B)(),{browserName:t,platform:n}=e,r=t??"";return(0,i.G6)(r)||"ios"===n};function y({children:e}){let[t,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(!0),h=(0,g.Z)(),{isAuth:y}=h,w=m(),v=b(),S=(0,d.HG)(),{checkExperiment:P}=(0,u.F)(),{userAgent:N}=(0,c.B)(),L=(0,s.Uq)(S,P,N),O=(0,s.Qs)(h),A=O&&t?h.email:void 0,k=(0,r.useRef)(null),E=(0,r.useRef)(new Set),$=(0,r.useRef)(new Set),Z=(0,r.useRef)(null),{language:C}=(0,c.B)(),D=S?"dweb":"mweb",R=(0,r.useRef)(!1),T=(0,r.useCallback)(()=>{if(R.current)return;R.current=!0;let e=!1,n=()=>{let n=(0,a.Fm)();n&&!e&&(e=!0,(0,l.Z)({type:"loadScript",status:"success"}),(0,l.Z)({type:"apiClient",valid:!!n}),Z.current=n,(0,a.OY)({autoSelect:!O,itpSupport:v,isFedCMEnabled:(!y||O)&&t,loginHint:A},e=>{if((0,l.Z)({type:"response",valid:!!e}),!e)return;(0,_.My)(`${D}.google_sign_in.select_by.${e.select_by}`);let t=(0,a.PL)(e.select_by);if("SIGN_IN_WITH_GOOGLE_BUTTON"===t){let t=Array.from(E.current),n=t[t.length-1],r=k.current;n?n(e):r&&r(e)}else k.current?.(e)}),$.current.forEach(e=>{e()}),$.current.clear())};window.onGoogleLibraryLoad=()=>n(),(0,l.Z)({type:"loadScript",status:"start"}),(0,a.Px)(void 0,C).then(()=>{n()}).catch(()=>{})},[C,v,y,O,t,A,D]);(0,r.useEffect)(()=>{w?(E.current.clear(),$.current.clear()):i||T()},[w,T,i]),(0,r.useEffect)(()=>{null!==L&&(n(y||void 0===L?(0,s.JZ)(S,P,N,y):L),o(!1))},[L,S,P,N,y]);let B=(0,r.useRef)({ensureInit:(e,t)=>(T(),"button"===e?E.current.add(t):k.current=t,new Promise(e=>{let t=!!Z.current;t?e():$.current.add(e)})),removeButtonCallback:e=>{E.current.delete(e)}});return(0,p.jsx)(f,{value:B.current,children:e})}},897650:(e,t,n)=>{n.d(t,{Fm:()=>a,OY:()=>l,PL:()=>c,Px:()=>s,mK:()=>_,ru:()=>u});var r=n(794658),i=n(702497),o=n(217058);let a=()=>window?.google?.accounts?.id,s=(e,t)=>(0,r.Z)("https://accounts.google.com/gsi/client"+(t?`?hl=${t}`:""),e?.unsafe?null:"GSI"),l=({autoSelect:e,itpSupport:t,isFedCMEnabled:n,loginHint:r},o)=>{let s={auto_select:e??!1,client_id:i.v3o,callback:o,cancel_on_tap_outside:!1,context:"use",itp_support:t,use_fedcm_for_prompt:n,login_hint:r};a()?.initialize(s)},u=({buttonRef:e,isDesktop:t,locale:n,logo_alignment:r})=>{let i=a();if(i&&e.current){let t=e.current.offsetWidth;i.renderButton(e.current,{locale:n,size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px",logo_alignment:r,click_listener:()=>(0,o.EX)({event:"start",provider:"google"})})}else(0,o.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},c=e=>["auto","fedcm_auto"].includes(e)?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",_=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},11453:(e,t,n)=>{n.d(t,{JZ:()=>w,Qs:()=>b,Uq:()=>y,jr:()=>v});var r=n(667294),i=n(224796),o=n(86785),a=n(340523),s=n(5859),l=n(731714),u=n(217058),c=n(554786),_=n(494125);let d=["treatment_1.1","treatment_1.2","treatment_1.3","control_2"],g=["control_1.1","control_1.2","control_1.3","control_1.4"],p={auth_dweb_google_fedcm_onetap_modal:122,auth_mweb_google_fedcm_onetap_modal:122},f=["auth_dweb_google_fedcm_onetap_modal"],h=["auth_mweb_google_fedcm_onetap_modal"],m=(e,t,n,r)=>e.some(e=>{let i=p[e]||116,o=!e.startsWith("auth_")||r;return n>=i&&o&&t(e).anyEnabled}),b=e=>e.isAuth&&e.socialNetwork&&e.socialNetwork.gplus&&e.socialNetwork.gplus.connected&&!l.Z.getItem(i.tr),y=(e,t,n)=>{let[i,o]=(0,r.useState)(void 0),[a,s]=(0,r.useState)(null),[l,c]=(0,r.useState)(!0),p="";e?p="dweb":"android"===n.platform&&(p="mweb");let f=n.browserVersion?parseInt(n.browserVersion.split(".")[0],10):0,h=async()=>{"undefined"!=typeof navigator&&"cookieDeprecationLabel"in navigator?s(await navigator.cookieDeprecationLabel.getValue()):(s(""),c(!1))};return(0,_.Z)(()=>{h()}),(0,r.useEffect)(()=>{if(null===a)return c(!0);if(a&&f>=116&&p){(0,u.My)(`${p}.chrome_cookie_deprecation_label.${a}`);let e=t(`${p}_fedcm_google_chrome_test_labels`,{dangerouslySkipActivation:!0}).group;("control"===e&&g.includes(a)||"enabled"===e&&d.includes(a))&&o(t(`${p}_fedcm_google_chrome_test_labels`).anyEnabled)}return c(!1)},[t,p,f,a]),l?null:i},w=(e,t,n,r)=>{let i=n.browserVersion?parseInt(n.browserVersion.split(".")[0],10):0,a=(0,o.i7)(n.browserName??"");return a&&(e&&m(f,t,i,r)||!e&&"android"===n.platform&&m(h,t,i,r))},v=e=>{let t=(0,c.HG)(),{checkExperiment:n}=(0,a.F)(),{userAgent:r}=(0,s.B)();return b(e)&&w(t,n,r,e.isAuth)}},992083:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(306775),i=n(217058);let o=e=>(0,i.dy)({event:e,provider:"google"}),a=e=>(0,r.RP)("google_autologin",e),s=e=>(0,r.M3)("google_autologin",e),l=e=>{switch(e.type){case"loadScript":"start"===e.status?(o("start"),o("load_script_start"),s("autoLoginGoogleStart")):"success"===e.status?o("load_script_success"):o("load_script_failure");break;case"apiClient":e.valid?(o("initialize_library"),s("autoLoginGoogleInitEnd")):(a("noAccountFound"),o("global_object_not_found"));break;case"response":e.valid?(o("receive_credential_response_from_provider"),(0,i.EX)({event:"receive_credential_response_from_provider",provider:"google"})):(a("noResponse"),(0,i.EX)({event:"receive_no_credential_response_from_provider",provider:"google"}));break;case"autologin":"start"===e.status?(o("pinterest_login_start"),(0,i.NC)("press_google_one_tap_other"),(0,r.M3)("google_autologin","autoLoginGoogleEnd"),(0,r.PA)("google_autologin")):("success"===e.status?o("pinterest_login_success"):o("pinterest_login_failure"),o("end"));break;case"manualLoginAttempt":(0,i.NC)(e.fromConnectButton?"press_google_one_tap_button":"press_google_one_tap"),(0,r.PA)("google_autologin")}}},182962:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(667294),i=n(340523);let o=()=>{let e=(0,i.F)();return(0,r.useCallback)(()=>{e.flush()},[e])}},306775:(e,t,n)=>{n.d(t,{M3:()=>h,PA:()=>m,RP:()=>f,gq:()=>g});var r=n(707671),i=n(297329),o=n(107860),a=n(521525),s=n(363404),l=n(889998),u=n(404373),c=n(970126);let _=({name:e,pwtStaticContext:t})=>{if(!c.Z||!(0,r.Z)())return null;let n={type:"stopwatch",name:e},i=[],o=!0;return{abort:e=>{o&&(o=!1,(0,s.Z)({metricId:n,pwtStaticContext:t,result:{type:"ABORT",reason:e}}))},annotate:e=>{o&&i.push({label:e,timestamp:c.Z.now()})},stop:()=>{if(!o)return;o=!1;let e={type:"COMPLETE",traceId:(0,u.Z)(),startTime:0,endTime:c.Z.now(),spans:[],annotationMap:(0,l.Z)(i),binaryAnnotationMap:(0,a.ng)({metricId:n,pwtStaticContext:t})};(0,s.Z)({metricId:n,pwtStaticContext:t,result:e})}}},d={},g=(e,t)=>{t.forEach(t=>{d[t]=_({name:t,pwtStaticContext:e})})},p=e=>d[e],f=(e,t)=>{let n=p(e);if(n)try{n.abort(t)}catch(t){(0,i.H)("app_load_stopwatch_error",{name:e,result:"abort"})}},h=(e,t)=>{let n=p(e);n&&(n.annotate(t),(0,o.ZP)(`stopwatch_${e}_${t}`))},m=e=>{let t=p(e);if(t)try{t.stop()}catch(t){(0,i.H)("app_load_stopwatch_error",{name:e,result:"complete"})}}},889998:(e,t,n)=>{n.d(t,{Z:()=>r});let r=e=>{let t={};e.forEach(({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}});let n=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,r)=>{let i=r?`${e}_${r+1}`:e;n={...n,[i]:t}})}),n}},722363:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(667294),i=n(373314),o=n(217058);function a(){return(0,r.useCallback)(e=>{e.action&&e.event?(0,o.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,i.Z)()}):(0,o.My)("pinner_conversion.missing_tags")},[])}},546689:(e,t,n)=>{n.d(t,{Cb:()=>B,Ff:()=>ei,K7:()=>H,Lp:()=>C,MM:()=>X,O0:()=>ea,OJ:()=>T,PW:()=>es,Rh:()=>Q,S2:()=>R,Vd:()=>q,Yi:()=>ee,Yy:()=>en,Z4:()=>A,ZN:()=>y,dc:()=>I,di:()=>D,i$:()=>P,iU:()=>z,nR:()=>Z,oQ:()=>eo,t_:()=>v,z$:()=>U});var r=n(667294),i=n(216167),o=n(224796),a=n(836313),s=n(658583),l=n(622541),u=n(342513),c=n(191313),_=n(573810),d=n(217058),g=n(624797),p=n(494125),f=n(407053),h=n(942397),m=n(785893);let b=new Set([...a.Z,"UK"]),y=["utm_pai","utm_source","invite_code"],w=function(e){return{...e,ts:Date.now()}},v=()=>(0,c.qn)(f.tz,"");function S(e,t){let n;try{n=JSON.parse(e)}catch(e){n=t}return n}let P=()=>S(v(),[]),N=()=>S((0,c.qn)(o.s1,""),[]),L=()=>S((0,c.qn)(o.Vb,""),[]),O=({pinId:e,link:t,imageSignature:n,domain:r})=>{let i=[...L()],a=i.length,s=a?i[0].pinId:"";if(a>=f.eA&&i.pop(),!a||e!==s){let a=w({pinId:e,link:t,imageSignature:n,domain:r});(0,c.Nh)(o.Vb,JSON.stringify([a].concat(i)))}},A=(e,t)=>{let n=[...P()],r=n.length,i=r?n[0].path:"";if(!(r>=f.eA)&&(!r||e!==i)){let r=w({path:e,pageType:t});(0,c.Nh)(f.tz,JSON.stringify([r].concat(n)))}},k=()=>{let e=(0,c.qn)(o.ny,"");return S(e,[])},E=()=>parseInt((0,c.qn)(o.rN,0),10),$=()=>{let e=(0,c.qn)(f.dx,"");return S(e,[])},Z=()=>{let e=(0,c.qn)(f.Lg,"");return S(e,null)},C=e=>{if(!e)return;let t=[...$()],n=w({inviteCode:e});(0,c.Nh)(f.Lg,JSON.stringify(n)),t.length>=f.eA||(0,c.Nh)(f.dx,JSON.stringify([n].concat(t)))},D=()=>{let e=(0,c.qn)(f.eV,"");return S(e,null)},R=(e,t)=>{if(!e)return;let n=w({...!!t&&{adImageUrl:t},campaignId:e});(0,c.Nh)(f.eV,JSON.stringify(n))},T=()=>(0,c.qn)(f.fo,""),B=e=>{(0,c.Nh)(f.fo,e)},U=()=>{v()&&(0,c.L_)(f.tz),(0,c.qn)(o.ny)&&(0,c.L_)(o.ny),(0,c.qn)(o.Vb)&&(0,c.L_)(o.Vb),Z()&&((0,c.L_)(f.Lg),(0,c.L_)(f.dx)),D()&&(0,c.L_)(f.eV),T()&&(0,c.L_)(f.fo)},M=()=>{let e=P();return e.filter(e=>"closeup"===e.pageType)};function I(){return M().length}let x=({query:e,rs:t,scope:n,rg:r})=>{let i=[...k()],a=i.length,s=a?i[0].query:"";if(a>=f.eA&&i.pop(),!a||e!==s){let a=w({query:e,rs:t,scope:n,rg:r});(0,c.Nh)(o.ny,JSON.stringify([a].concat(i)))}},G=({query:e})=>{let t=[...k()],n=t.filter(t=>t.query!==e);(0,c.Nh)(o.ny,JSON.stringify(n))},H=()=>({count:1,time:0,ts:Date.now()}),z=()=>{try{let e=JSON.parse((0,c.qn)(o.SI)),{count:t,time:n,ts:r}=e;if("number"==typeof t&&"number"==typeof n&&"number"==typeof r)return{count:t,time:n,ts:r};throw Error("Invalid revisitation data")}catch(e){return H()}},q=e=>{(0,c.Nh)(o.SI,JSON.stringify(w(e)))},F=(e,t,n)=>{if(e>=n)return`${n}+`;if(e<=0)return"0";let r=e.toString();return e>t&&(r=`${Math.floor(e/t)*t}+`),r},J=e=>F(e,5,20),V=(e,t,n)=>t.reduce((t,n)=>(Array.isArray(e[n])&&(t[n+"Count"]=J(e[n].length)),t),n),W=e=>({...e,_updateUnauthUserAggregateDefinitions:function(){let{completedSearches:t,closeupPins:n,clickthroughPins:r,downloadedPinsCount:i}=e;e.isQUS=Number(t.length>=1||n.length>=3||r.length>=1||i>=1)},_getDaysSinceLastRevisitation:function(){let{revisitationState:t}=e,{ts:n}=t,r=new Date,i=new Date(n||r),o=Math.max(Math.floor(Number(((r.getTime()-i.getTime())/864e5).toFixed(2))),0),a=F(o,7,84);return[o,a]},getStatslogData:function(){let t=V(e,[],{isQUS:e.isQUS.toString(),isAllowedCountry:e.isAllowedCountry.toString(),daysSinceLastRevisitationBucket:e.daysSinceLastRevisitationBucket}),n=V(e,["closeupPins","completedSearches","clickthroughPins","savedPins","invitesRedeemed"],{revisitationCount:J(e.revisitationState.count||1),downloadedPinsCount:J(e.downloadedPinsCount)});return{core:t,counts:n}}}),j=({isAuthenticated:e,countryFromIp:t,countryFromHostName:n})=>{let r={isAuthenticated:Number(e),countryFromIp:t||"",countryFromHostName:n||"",closeupPins:[],completedSearches:[],clickthroughPins:[],downloadedPinsCount:0,savedPins:[],invitesRedeemed:[],isQUS:0,revisitationState:H(),daysSinceLastRevisitation:0,daysSinceLastRevisitationBucket:"0",isAllowedCountry:Number(!(b.has(t||"")||b.has(n||"")))};if(e||!r.isAllowedCountry){let e=W(r);return Object.freeze({...e,...r})}r.closeupPins=M(),r.completedSearches=k(),r.clickthroughPins=L(),r.downloadedPinsCount=E(),r.savedPins=N(),r.invitesRedeemed=$(),r.revisitationState=z();let i=W(r),[o,a]=i._getDaysSinceLastRevisitation();return r.daysSinceLastRevisitation=o,r.daysSinceLastRevisitationBucket=a,i._updateUnauthUserAggregateDefinitions(),Object.freeze({...i,...r})},{Provider:K,useHook:Q}=(0,u.Z)("UnauthUserStateContext");function Y(e,t){let{isAuthenticated:n,countryFromIp:r,countryFromHostName:i,isAllowedCountry:o}=e;if(n||!o)return e;switch(t.type){case"UPDATE":break;case"ADD_UNAUTH_COMPLETED_SEARCH":x(t.payload);break;case"REMOVE_UNAUTH_COMPLETED_SEARCH":G(t.payload);break;case"ADD_UNAUTH_CLICKTHROUGH_PIN":O(t.payload);break;default:return e}return j({isAuthenticated:n,countryFromIp:r,countryFromHostName:i})}function X({children:e,initialState:t}){let[n,i]=(0,r.useReducer)(Y,t,j);(0,p.Z)(()=>{i({type:"UPDATE"})});let o=(0,r.useMemo)(()=>({unauthUserState:n,unauthUserStateDispatch:i}),[n,i]);return(0,m.jsx)(K,{value:o,children:e})}function ee(){let e=i.Z.create("UnauthUserDataResource");return new Promise((t,n)=>{e.callGet().then(e=>{let r=e.resource_response.data,i=!!s.U2(l.x3);return r?((0,h.Wn)(r.medium_image_url)&&(r.medium_image_url=""),(0,d.My)(`mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_${i?"true":"false"}`),t(r)):((0,d.My)(`mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_${i?"true":"false"}`),n({}))}).catch(e=>{if(e&&e.message){let t=e.message.replace(/\s/g,"_").toLowerCase();(0,d.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,d.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)})})}function et({i18n:e,location:t}){let n;let r=t.pathname.startsWith("/signup"),i=t.pathname.startsWith("/login");if(!r&&!i)return{showPLPBanner:!1,pinForBanner:null};try{n=JSON.parse((0,_.qn)(f.KH))}catch(e){n=[]}if(n&&n.length>0){let t=n[0];if(t)return t.bannerCopy=e._('More ideas like this await', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from'),{showPLPBanner:!!t.image,pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}let en=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function er({i18n:e,location:t}){let n=t.state?.next||en(t);if(n){let t=n.indexOf("?"),r=(0,g.mB)(n.substring(t));if(r.url&&r.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,g.Jx)(r.media),height:1,width:1},pinDescription:r.description,bannerCopy:e._('Save this idea and discover more inspiration like it.', 'page banner with pin image that was signed up from', 'page banner with pin image that was signed up from')}}}return{showPLPBanner:!1,pinForBanner:null}}function ei({i18n:e,location:t}){return er({i18n:e,location:t}).showPLPBanner?er({i18n:e,location:t}):et({i18n:e,location:t}).showPLPBanner?et({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}let eo=(e,t)=>e?`https://i.pinimg.com/${t||"474x"}/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:"",ea=e=>e?`https://i.pinimg.com/75x75/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:"",es=e=>e?`https://i.pinimg.com/236x/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:""},942397:(e,t,n)=>{function r(e){return!!e?.is_matured_new_user}n.d(t,{IR:()=>a,V0:()=>r,Wn:()=>o,xT:()=>i});let i=e=>!!e&&2===e.login_state,o=e=>!!(e&&e.match(/\/static\/images\/user\/default_\d+\.png$/))||!!(e&&e.match(/\/images\/user\/default_\d+\.png$/));function a(e){return!e||void 0===e.third_party_marketing_tracking_enabled||null===e.third_party_marketing_tracking_enabled||e.third_party_marketing_tracking_enabled}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/34104-f8e7c601aa7199cf.mjs.map